/*C2*/SET SCHEMA PUBLIC
create table Arc (id bigint generated by default as identity (start with 1), destination bigint, multiplicity integer not null, source bigint, subnet_id bigint, primary key (id))
create table FormData (id bigint generated by default as identity (start with 1), varName varchar(50), varValue varchar(50), instance_id bigint, primary key (id))
create table Instance (id bigint generated by default as identity (start with 1), createdBy bigint, creationTime timestamp, primary key (id))
create table InstanceMarking (id bigint generated by default as identity (start with 1), tokens integer, instance_id bigint, place_id bigint, primary key (id))
create table Login (id bigint generated by default as identity (start with 1), password varchar(128) not null, username varchar(50) not null, primary key (id), unique (username))
create table Login_Role (logins_id bigint not null, roles_id bigint not null, primary key (logins_id, roles_id))
create table Node (id bigint generated by default as identity (start with 1), label varchar(200), x integer, y integer, primary key (id))
create table Place (pnId varchar(255), staticPlace bit not null, tokens integer, id bigint not null, subnet_id bigint, primary key (id))
create table Role (id bigint generated by default as identity (start with 1), createCase bit not null, destroyCase bit not null, name varchar(200) not null, primary key (id))
create table Subnet (id bigint generated by default as identity (start with 1), label varchar(200), x integer, y integer, workflow_id bigint, primary key (id))
create table Transition (id bigint not null, subnet_id bigint, primary key (id))
create table Transition_Role (transitions_id bigint not null, roles_id bigint not null, primary key (transitions_id, roles_id))
create table Workflow (id bigint generated by default as identity (start with 1), image blob, name varchar(200), pnFile blob, wLeft integer, wTop integer, xhtmlForm blob, xmlDataModel blob, owner_id bigint, primary key (id))
alter table Arc add constraint FK10232E7CB8F99 foreign key (subnet_id) references Subnet
alter table FormData add constraint FK200ED2AEAAA5A0D9 foreign key (instance_id) references Instance
alter table InstanceMarking add constraint FK97FB5B8064DCED7B foreign key (place_id) references Place
alter table InstanceMarking add constraint FK97FB5B80AAA5A0D9 foreign key (instance_id) references Instance
alter table Login_Role add constraint FKE97D3CC73F9F912 foreign key (roles_id) references Role
alter table Login_Role add constraint FKE97D3CC8F6CA7DA foreign key (logins_id) references Login
alter table Place add constraint FK499E8E783CE25DC foreign key (id) references Node
alter table Place add constraint FK499E8E7E7CB8F99 foreign key (subnet_id) references Subnet
alter table Subnet add constraint FK94412F7D6F0DD899 foreign key (workflow_id) references Workflow
alter table Transition add constraint FK100D497583CE25DC foreign key (id) references Node
alter table Transition add constraint FK100D4975E7CB8F99 foreign key (subnet_id) references Subnet
alter table Transition_Role add constraint FK4EE1052073F9F912 foreign key (roles_id) references Role
alter table Transition_Role add constraint FK4EE10520D6450010 foreign key (transitions_id) references Transition
alter table Workflow add constraint FK5F63BDF58FA7AB1 foreign key (owner_id) references Login
INSERT INTO LOGIN VALUES(1,'c7ad44cbad762a5da0a452f9e854fdc1e0e7a52a38015f23f3eab1d80b931dd472634dfac71cd34ebc35d16ab7fb8a90c81f975113d6c7538dc69dd8de9077ec','admin')
COMMIT
